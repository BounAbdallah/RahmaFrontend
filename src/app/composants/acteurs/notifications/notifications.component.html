<div class="notifications-container">
  <div class="notifications-header">
    <h3>Notifications</h3>
    <div class="notifications-actions">
      <span *ngIf="unreadCount > 0">{{ unreadCount }} non lue(s)</span>
    </div>
  </div>

  <div class="notifications-list">
    <div
      class="notification-item"
      *ngFor="let notification of notifications"
      [class.unread]="!notification.read"
      (click)="openModal(notification)"
    >
      <p>{{ notification.message }}</p>
      <span>{{ notification.createdAt | date: 'dd/MM/yyyy HH:mm' }}</span>
    </div>
  </div>

  <div *ngIf="notifications.length === 0" class="no-notifications">
    Aucune notification
  </div>

  <!-- Modal -->
  <div class="modal" *ngIf="isModalOpen">
    <div class="modal-content">
      <span class="close" (click)="closeModal()">&times;</span>
      <h3>Détails de la Notification</h3>
      <p><strong>Message :</strong> {{ selectedNotification?.message }}</p>
      <p><strong>Détails :</strong> {{ selectedNotification?.details }}</p>
      <p><strong>Date :</strong> {{ selectedNotification?.createdAt | date: 'dd/MM/yyyy HH:mm' }}</p>
      <button (click)="markAsRead(selectedNotification?.id)">Marquer comme lu</button>
    </div>
  </div>
</div>
